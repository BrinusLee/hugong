webpackJsonp([8],{"7Co1":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("Xxa5"),n=o.n(a),l=o("exGp"),i=o.n(l),c=o("mvHQ"),s=o.n(c),r={components:{ContentHeadTop:o("4jVa").a},created:function(){this.searchCompany(),this.searchRegion()},methods:{onValueChange:function(){alert("xxxx")},viewRow:function(t,e){console.log(e),sessionStorage.setItem("company_detail",s()(e)),this.$router.push("addCompany")},disableRow:function(t,e){this.compDisable.dialogVisible=!0,this.compDisable.rowInfo=e,console.log("index="+t)},disableCompanyAccount:function(){this.compDisable.dialogVisible=!1;var t=this.compDisable.rowInfo;console.log(t.cid),this.$http({method:"POST",url:"/hugongljb/disable_company_account",data:{cid:t.cid,comp_status:"已停用"}}).then(function(t){console.log(t),console.log(t.status)})},deleteRow:function(t,e){console.log(e),this.compDelete.dialogVisible=!0,this.compDelete.index=t,this.compDelete.rowInfo=e},deleteCompanyAccount:function(){var t=this;this.compDelete.dialogVisible=!1;var e=this.compDelete.rowInfo;console.log(e.cid),this.$http({method:"POST",url:"/hugongljb/delete_company_account",data:{cid:e.cid}}).then(function(e){console.log(e),console.log(e.status),200==e.status&&t.companyList.splice(t.compDelete.index,1)})},addCompany:function(){sessionStorage.setItem("company_detail",null),this.$router.push("addCompany")},cancel:function(){this.goBack()},searchCompany:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$http.get("/hugongljb/get_companys").then(function(e){console.log(e),t.companyList=e.data.data.list,console.log(t.companyList)});case 1:case"end":return e.stop()}},e,t)}))()},searchRegion:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$http.get("/hugongljb/get_company_regions").then(function(e){console.log("response:"),console.log(e);for(var o=e.data.data.list,a=0;a<o.length;a++){var n={value:a,label:o[a].region};t.comp_regions.options[a]=n}});case 1:case"end":return e.stop()}},e,t)}))()},remoteMethod:function(){alert("remoteMethod")}},data:function(){return{companyList:[],regionList:[],tableData4:[{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"},{companyId:"25055219",companyName:"诚愿医疗护理有限公司",companyType:"上海",region:"上海普陀区",principal:"王小虎",contactNumber:200333,accountStatus:"已启用",remarks:"xxx"}],comp_types:{options:[{value:"选项1",label:"1"},{value:"选项2",label:"2"}],value:""},comp_status:{options:[{value:"选项1",label:"已启用"},{value:"选项2",label:"已停用"}],value:""},comp_regions:{options:[],value:""},compDisable:{rowInfo:"",dialogVisible:!1},compDelete:{rowInfo:"",index:"",dialogVisible:!1}}}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"router-content"},[o("content-head-top",{staticClass:"router-content-header"}),t._v(" "),o("el-row",{staticClass:"router-content-body"},[o("el-row",{staticStyle:{display:"flex",padding:"10px"}},[o("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px","font-size":"12px"},attrs:{size:"medium",placeholder:"请输入公司名称/编号/负责人/手机号"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(e){return t.searchCompany(e)}},slot:"append"})],1),t._v(" "),o("el-select",{staticStyle:{"margin-left":"20px",width:"150px"},attrs:{size:"medium",placeholder:"公司类型"},model:{value:t.comp_types.value,callback:function(e){t.$set(t.comp_types,"value",e)},expression:"comp_types.value"}},t._l(t.comp_types.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),o("el-select",{staticStyle:{"margin-left":"20px",width:"150px"},attrs:{size:"medium",placeholder:"归属地区"},model:{value:t.comp_regions.value,callback:function(e){t.$set(t.comp_regions,"value",e)},expression:"comp_regions.value"}},t._l(t.comp_regions.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),o("el-select",{staticStyle:{"margin-left":"20px",width:"150px"},attrs:{size:"medium",placeholder:"账号状态"},model:{value:t.comp_status.value,callback:function(e){t.$set(t.comp_status,"value",e)},expression:"comp_status.value"}},t._l(t.comp_status.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})}))],1),t._v(" "),o("el-row",{staticStyle:{margin:"10px"}},[o("el-breadcrumb",{staticStyle:{float:"left","padding-top":"12px","padding-left":"10px"}},[t._v("公司列表")]),t._v(" "),o("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},nativeOn:{click:function(e){return t.addCompany(e)}}},[t._v("新增")])],1),t._v(" "),o("div",{staticStyle:{margin:"10px"}},[o("el-table",{attrs:{data:t.companyList,align:"left",border:"","max-height":"400"}},[o("el-table-column",{attrs:{fixed:"",prop:"cid",label:"公司编号",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"comp_name",label:"公司名称",width:"300"}}),t._v(" "),o("el-table-column",{attrs:{prop:"type",label:"公司类型",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"region",label:"所属地区",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"contact_name",label:"负责人",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"contact_phone",label:"联系电话",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"comp_status",label:"账号状态",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.viewRow(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.disableRow(e.$index,e.row)}}},[t._v("禁用")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.deleteRow(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"禁用",visible:t.compDisable.dialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.$set(t.compDisable,"dialogVisible",e)}}},[o("span",[t._v("确定禁用该公司账号吗？")]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.disableCompanyAccount}},[t._v("确 定")])],1)]),t._v(" "),o("el-dialog",{attrs:{title:"删除",visible:t.compDelete.dialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.$set(t.compDelete,"dialogVisible",e)}}},[o("span",{staticStyle:{}},[t._v("确定删除该公司账号吗？")]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.deleteCompanyAccount}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=o("VU/8")(r,p,!1,function(t){o("ft+I")},null,null);e.default=u.exports},"ft+I":function(t,e){}});
//# sourceMappingURL=8.6bab11a3ebf0f6e496de.js.map