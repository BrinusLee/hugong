webpackJsonp([6],{"5AGR":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{ContentHeadTop:a("4jVa").a},created:function(){var e=sessionStorage.getItem("employee_detail");if(console.log("item:"+e),null!=e){var t=JSON.parse(e);if(null==t.aid)return void console.log("obj.aid == null");this.aid=t.aid,this.cid=t.cid,this.sid=t.sid,this.comp_name=t.comp_name,this.department=t.department,this.site_name=t.site_name,this.username=t.username,this.password=t.password,this.password_confirm=t.password_confirm,this.admin_name=t.admin_name,this.phone=t.phone,this.email=t.email,this.webchat=t.webchat,this.position=t.position,this.is_dept_principal=1==t.is_dept_principal?"1":"0",this.accountPermission.is_dept_principal=1==t.is_dept_principal,this.accountPermission.is_dept_administrator=1==t.is_dept_administrator,this.accountPermission.is_dept_auditor=1==t.is_dept_auditor,this.accountPermission.is_user_defined_role=1==t.is_user_defined_role,this.accountPermission.is_sys_administrator=1==t.is_sys_administrator}},methods:{cancel:function(){this.goBack()},saveEmployee:function(){var e=this;this.$http({method:"POST",url:"/hugongljb/post_employee_info",data:{aid:this.aid,cid:this.cid,sid:this.sid,comp_name:this.comp_name,department:this.department,site_name:this.site_name,username:this.username,password:this.password,password_confirm:this.password_confirm,admin_name:this.admin_name,phone:this.phone,email:this.email,webchat:this.webchat,position:this.position,is_dept_principal:this.is_dept_principal?1:0,is_dept_administrator:this.accountPermission.is_dept_administrator?1:0,is_dept_auditor:this.accountPermission.is_dept_auditor?1:0,is_user_defined_role:this.accountPermission.is_user_defined_role?1:0,is_sys_administrator:this.accountPermission.is_sys_administrator?1:0}}).then(function(t){console.log(t),console.log(t.status),200==t.status&&e.goBack()})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}},data:function(){return{aid:"",cid:"",sid:"",comp_name:"",department:"",site_name:"",username:"",password:"",password_confirm:"",admin_name:"",phone:"",email:"",webchat:"",position:"",is_dept_principal:"0",accountPermission:{is_dept_administrator:"0",is_dept_principal:"0",is_dept_auditor:"0",is_sys_administrator:"0",is_user_defined_role:"0"},rules:{username:[{required:!0,message:"请输入登录账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],password_confirm:[{required:!0,message:"请确认密码",trigger:"blur"}],admin_name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],webchat:[{required:!0,message:"请输入微信号",trigger:"blur"}]},imageUrl:""}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"arrangement-by-row"},[a("content-head-top",{staticClass:"router-content-header"}),e._v(" "),a("el-main",[a("el-row",{staticStyle:{"text-align":"left",padding:"10px"}},[a("el-breadcrumb",{staticStyle:{"text-align":"left",padding:"10px 0 30px 10px","font-size":"16px",color:"rgb(97, 186, 238)"}},[e._v("基础信息")]),e._v(" "),a("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[a("el-col",{attrs:{span:18}},[a("el-row",[a("el-form-item",{attrs:{label:"登录账号:",prop:"username"}},[a("el-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"确认密码:",prop:"password_confirm"}},[a("el-input",{model:{value:e.password_confirm,callback:function(t){e.password_confirm=t},expression:"password_confirm"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名:",prop:"admin_name"}},[a("el-input",{model:{value:e.admin_name,callback:function(t){e.admin_name=t},expression:"admin_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[a("el-input",{model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号:",prop:"webchat"}},[a("el-input",{model:{value:e.webchat,callback:function(t){e.webchat=t},expression:"webchat"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门:",prop:"department"}},[a("el-input",{model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职位:",prop:"position"}},[a("el-input",{model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司:",prop:"comp_name"}},[a("el-input",{model:{value:e.comp_name,callback:function(t){e.comp_name=t},expression:"comp_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"网点:",prop:"site_name"}},[a("el-input",{model:{value:e.site_name,callback:function(t){e.site_name=t},expression:"site_name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"部门负责人:",prop:"is_dept_principal"}},[a("el-col",{attrs:{span:4}},[[a("el-radio",{attrs:{label:"1"},model:{value:e.is_dept_principal,callback:function(t){e.is_dept_principal=t},expression:"is_dept_principal"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.is_dept_principal,callback:function(t){e.is_dept_principal=t},expression:"is_dept_principal"}},[e._v("否")])]],2)],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-breadcrumb",{staticStyle:{"text-align":"left",padding:"10px 0 30px 10px","font-size":"16px",color:"rgb(97, 186, 238)"}},[e._v("照片上传")]),e._v(" "),a("el-row",{staticStyle:{"text-align":"left",padding:"20px"}},[a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"flex"}},[a("el-breadcrumb",{staticStyle:{"margin-right":"10px"}},[e._v("头像上传")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"flex"}},[a("el-breadcrumb",{staticStyle:{"margin-right":"10px"}},[e._v("身份证(头像面)")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"flex"}},[a("el-breadcrumb",{staticStyle:{"margin-right":"10px"}},[e._v("身份证(国徽面)")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])],1)],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"left",padding:"10px"}},[a("el-breadcrumb",{staticStyle:{"text-align":"left",padding:"10px 0 30px 10px","font-size":"16px",color:"rgb(97, 186, 238)"}},[e._v("权限设置")]),e._v(" "),a("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"账号权限:",prop:"accountPermission"}},[a("el-col",{attrs:{span:18}},[a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:e.accountPermission.is_sys_administrator,callback:function(t){e.$set(e.accountPermission,"is_sys_administrator",t)},expression:"accountPermission.is_sys_administrator"}},[e._v("系统管理员")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:e.accountPermission.is_dept_principal,callback:function(t){e.$set(e.accountPermission,"is_dept_principal",t)},expression:"accountPermission.is_dept_principal"}},[e._v("部门负责人")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:e.accountPermission.is_dept_administrator,callback:function(t){e.$set(e.accountPermission,"is_dept_administrator",t)},expression:"accountPermission.is_dept_administrator"}},[e._v("部门管理员")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:e.accountPermission.is_dept_auditor,callback:function(t){e.$set(e.accountPermission,"is_dept_auditor",t)},expression:"accountPermission.is_dept_auditor"}},[e._v("部门审核员")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:e.accountPermission.is_user_defined_role,callback:function(t){e.$set(e.accountPermission,"is_user_defined_role",t)},expression:"accountPermission.is_user_defined_role"}},[e._v("自定义角色")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}}),e._v(" "),a("el-col",{attrs:{span:12}})],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[a("span",[a("el-button",{nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("取消")]),a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return e.saveEmployee(t)}}},[e._v("保存")])],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(e){a("u5HM")},null,null);t.default=r.exports},u5HM:function(e,t){}});
//# sourceMappingURL=6.f144f7cb8bed3d8b05e1.js.map